create database epms;
use epms;

drop table meeting;
create table meeting(
id int(11) primary key auto_increment,
content text,
question text,
partner varchar(100),
meetingTime date,
infoCreateTime datetime,
organize varchar(100),
type varchar(25),
userId int
);
select * from meeting;
update meeting set content = '1' where id = 29; 


create table train(
id int(11) primary key auto_increment,
content text,
question text,
partner varchar(100),
trainTime date,
infoCreateTime datetime,
organize varchar(100),
type varchar(25),
userId int
);
select * from train;

drop table execute;
create table execute(
id int(11) primary key auto_increment,
planid int(11),
leader varchar(100),
content text,
question text,
exeStartTime datetime,
exeEndTime datetime
);
select * from execute;
alter table execute drop column finished;
alter table execute add column finished int(1) default 0;

create table plan(
id int(11) primary key auto_increment,
projectid int(11),
leader varchar(100),
name varchar(100),
content text,
planStartTime datetime,
planEndTime datetime
);
select * from plan;
alter table plan drop column finished;
alter table plan add column finished int(1) default 0;

drop table project;
create table project(
id int(11) primary key auto_increment,
leader varchar(100),
type varchar(100),
name varchar(100),
content text,
proStartTime datetime,
proEndTime datetime,
partner varchar(100)
);
select * from project;
alter table project drop column finished;
alter table project add column finished int(1) default 0;



#多表联删
# delete plan, execute from plan left join execute on execute.planid = plan.id where plan.id = #{id}
SET SQL_SAFE_UPDATES = 0;
delete plan, execute, project from plan left join execute on execute.planid = plan.id  right join project on project.id = plan.projectid where projectid = 1;


#多表联查







